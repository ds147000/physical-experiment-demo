# 这是一个可拖拽的功能设计器
---
这是一个轻量级的拖拽画布、我正准备把它开发成一个通用的物理实验器。经过严格单元测试。

## 安装依赖
``` $ yarn ```

## 启动开发模式
``` npm run start ```

## 编译代码
``` npm run build ```

## 项目说明
 - layout布局使用 `react + andt`
 - 拖拽画板已`canvas`为渲染基础，使用订阅模式处理重绘和管理
 - 拥有任务调度器对帧内任务分割和优化。

# 项目结构说明
```
src
├─store              // 公共状态管理
├─plugins
|    ├─engine        // 画布处理引擎
|    |   ├─stack     // 物体栈堆
|    |   ├─scheduler // 任务调度器
|    |   ├─scenes    // 场景管理器
|    |   ├─handle    // 用户操作处理器
├─components         // 外部组件
```

# 引擎模块说明
 - `stack` 元素栈堆管理器：管理画布元素栈堆，当元素栈堆发生变化会自动发布变化事件。

 - `scheduler` 任务调度器：帧内执行任务管理，当前一桢内执行任务数量超时自动切割任务到下一帧执行，具有主任务队列、空闲任务、一次性空闲任务等特性。API分别为 `run`、`runIdle`、`runSingleIdle`。

 - `scenes` 场景管理器：负责渲染画布元素等逻辑。

 - `handle` 用户操作处理器： 用户操作行为处理器，管理应用各种操作事件。

 - `components` 放大镜、导出、保存、菜单外部组件集合
